# RSI (ç›¸å¯¹å¼ºå¼±æŒ‡æ•°)

## æŒ‡æ ‡æ¦‚è¿°
RSIç”±éŸ¦å°”æ–¯Â·æ€€å°”å¾·(J. Welles Wilder Jr.)äºŽ1978å¹´å¼€å‘ï¼Œé€šè¿‡æ¯”è¾ƒä¸€æ®µæ—¶æœŸå†…çš„å¹³å‡æ”¶ç›˜æ¶¨æ•°å’Œå¹³å‡æ”¶ç›˜è·Œæ•°æ¥è®¡ç®—ç›¸å¯¹å¼ºå¼±ç¨‹åº¦ã€‚è¯¥æŒ‡æ ‡æä¾›å®¢è§‚çš„æ•°å€¼å‚è€ƒï¼Œä¸ºETFæ•°æ®ç­›é€‰æä¾›é‡åŒ–ä¾æ®ã€‚

## åŒ…å«æŒ‡æ ‡

### æ ¸å¿ƒRSIæŒ‡æ ‡  
- **rsi_6**: 6æ—¥ç›¸å¯¹å¼ºå¼±æŒ‡æ•°
- **rsi_12**: 12æ—¥ç›¸å¯¹å¼ºå¼±æŒ‡æ•°
- **rsi_24**: 24æ—¥ç›¸å¯¹å¼ºå¼±æŒ‡æ•°

### å·®å€¼ä¸Žå˜åŒ–çŽ‡æŒ‡æ ‡
- **rsi_diff_6_24**: RSI6ä¸ŽRSI24çš„å·®å€¼
- **rsi_change_rate**: RSI12ç›¸å¯¹å‰ä¸€æ—¥çš„å˜åŒ–çŽ‡

## è®¡ç®—å…¬å¼

### RSIåŸºç¡€è®¡ç®—
```
RS = å¹³å‡æ¶¨å¹… / å¹³å‡è·Œå¹…
RSI = 100 - (100 / (1 + RS))

å…¶ä¸­ï¼š
å¹³å‡æ¶¨å¹… = Næ—¥å†…æ­£æ”¶ç›Šçš„å¹³å‡å€¼
å¹³å‡è·Œå¹… = Næ—¥å†…è´Ÿæ”¶ç›Šç»å¯¹å€¼çš„å¹³å‡å€¼
N = è®¡ç®—å‘¨æœŸå‚æ•°

å–å€¼èŒƒå›´ï¼š0 åˆ° 100
```

### æ¶¨è·Œå¹…åˆ†ç¦»å¤„ç†
```
å¦‚æžœå½“æ—¥æ¶¨è·Œå¹… > 0:
    æ¶¨å¹… = æ¶¨è·Œå¹…, è·Œå¹… = 0
å¦‚æžœå½“æ—¥æ¶¨è·Œå¹… â‰¤ 0:
    æ¶¨å¹… = 0, è·Œå¹… = |æ¶¨è·Œå¹…|
```

### è¡ç”ŸæŒ‡æ ‡è®¡ç®—
```
rsi_diff_6_24 = rsi_6 - rsi_24
rsi_change_rate = (ä»Šæ—¥RSI12 - æ˜¨æ—¥RSI12) / æ˜¨æ—¥RSI12 Ã— 100
```

## æ•°æ®ç‰¹å¾åˆ†æž

### æ•°å€¼èŒƒå›´ç‰¹å¾
- **å–å€¼èŒƒå›´**: 0åˆ°100
- **æ•°å€¼åˆ†å¸ƒ**: é€šå¸¸åœ¨20-80ä¹‹é—´æ³¢åŠ¨
- **æžå€¼æƒ…å†µ**: æŽ¥è¿‘0æˆ–100æ—¶è¡¨ç¤ºæžç«¯çŠ¶æ€

### æŒ‡æ ‡æ•æ„Ÿåº¦å¯¹æ¯”
```
å‘¨æœŸè¶ŠçŸ­ï¼Œæ•æ„Ÿåº¦è¶Šé«˜:
RSI6 > RSI12 > RSI24 (æ•æ„Ÿåº¦é€’å‡)

å·®å€¼æ•°å€¼å«ä¹‰:
rsi_diff_6_24 > 0  â†’ çŸ­æœŸæ•°å€¼é«˜äºŽé•¿æœŸ
rsi_diff_6_24 < 0  â†’ çŸ­æœŸæ•°å€¼ä½ŽäºŽé•¿æœŸ
```

### å˜åŒ–çŽ‡åˆ†æž  
- **rsi_change_rate**: åæ˜ RSI12çš„æ—¥é—´å˜åŒ–å¹…åº¦
  - æ­£å€¼: æ•°å€¼ä¸Šå‡
  - è´Ÿå€¼: æ•°å€¼ä¸‹é™
  - ç»å¯¹å€¼è¶Šå¤§è¡¨ç¤ºå˜åŒ–è¶Šå‰§çƒˆ

## æ•°æ®è®¡ç®—å®žä¾‹

### åŸºç¡€è®¡ç®—ç¤ºä¾‹
```python
# RSIæŒ‡æ ‡è®¡ç®—
def calculate_rsi(price_changes, period):
    """
    è®¡ç®—RSIç›¸å¯¹å¼ºå¼±æŒ‡æ•°
    """
    # åˆ†ç¦»æ¶¨è·Œå¹…
    gains = price_changes.where(price_changes > 0, 0)
    losses = -price_changes.where(price_changes < 0, 0)
    
    # è®¡ç®—å¹³å‡æ¶¨è·Œå¹…
    avg_gains = gains.rolling(period).mean()
    avg_losses = losses.rolling(period).mean()
    
    # é¿å…é™¤é›¶
    rs = avg_gains / avg_losses.replace(0, np.nan)
    rsi = 100 - (100 / (1 + rs))
    
    return rsi.round(8)  # 8ä½å°æ•°ç²¾åº¦

# å·®å€¼è®¡ç®—
def calculate_rsi_diff(rsi_6, rsi_24):
    """
    è®¡ç®—RSIå·®å€¼
    """
    diff = rsi_6 - rsi_24
    return diff.round(8)

# å˜åŒ–çŽ‡è®¡ç®—
def calculate_rsi_change_rate(rsi):
    """
    è®¡ç®—RSIå˜åŒ–çŽ‡
    """
    change_rate = (rsi - rsi.shift(1)) / rsi.shift(1) * 100
    return change_rate.round(8)
```

## å‚æ•°è®¾ç½®è¯´æ˜Ž

### çŸ­æœŸå‚æ•° (RSI6)
- **è®¡ç®—å‘¨æœŸ**: 6ä¸ªäº¤æ˜“æ—¥
- **æ•æ„Ÿåº¦**: é«˜ï¼Œå¯¹ä»·æ ¼å˜åŒ–ååº”å¿«é€Ÿ
- **æ•°æ®ç‰¹ç‚¹**: æ³¢åŠ¨è¾ƒå¤§ï¼Œå™ªéŸ³ç›¸å¯¹è¾ƒå¤š
- **é€‚ç”¨æƒ…å†µ**: çŸ­æœŸæ•°æ®åˆ†æž

### æ ‡å‡†å‚æ•° (RSI12)  
- **è®¡ç®—å‘¨æœŸ**: 12ä¸ªäº¤æ˜“æ—¥
- **æ•æ„Ÿåº¦**: ä¸­ç­‰ï¼Œå¹³è¡¡æ€§è¾ƒå¥½
- **æ•°æ®ç‰¹ç‚¹**: ç›¸å¯¹ç¨³å®šï¼Œå®žç”¨æ€§å¼º
- **é€‚ç”¨æƒ…å†µ**: é€šç”¨æ•°æ®åˆ†æž

### é•¿æœŸå‚æ•° (RSI24) 
- **è®¡ç®—å‘¨æœŸ**: 24ä¸ªäº¤æ˜“æ—¥
- **æ•æ„Ÿåº¦**: è¾ƒä½Žï¼Œæ•°å€¼ç›¸å¯¹ç¨³å®š
- **æ•°æ®ç‰¹ç‚¹**: å¹³æ»‘åº¦é«˜ï¼Œæ³¢åŠ¨è¾ƒå°
- **é€‚ç”¨æƒ…å†µ**: é•¿æœŸæ•°æ®åˆ†æž

## æ•°æ®è´¨é‡è¦æ±‚

### è®¡ç®—æ•°æ®éœ€æ±‚
- **æœ€å°‘æ•°æ®é‡**: 24ä¸ªäº¤æ˜“æ—¥(æ»¡è¶³RSI24è®¡ç®—)
- **å»ºè®®æ•°æ®é‡**: 60ä¸ªäº¤æ˜“æ—¥(ä¿è¯è®¡ç®—ç¨³å®šæ€§)
- **æ•°æ®ç²¾åº¦**: 8ä½å°æ•°
- **æ—¥æœŸæ ¼å¼**: YYYY-MM-DD

### æ•°æ®ç¼ºå¤±å¤„ç†
- **åœç‰Œæ—¥**: è·³è¿‡è®¡ç®—ï¼Œä¿æŒå‰ä¸€æ—¥æ•°å€¼
- **æ–°ä¸Šå¸‚ETF**: ç­‰å¾…æ•°æ®ç§¯ç´¯åŽå†è®¡ç®—
- **æ•°æ®å¼‚å¸¸**: è‡ªåŠ¨æ£€æµ‹å’Œæ ‡è®°å¼‚å¸¸å€¼

### è®¡ç®—æ€§èƒ½æŒ‡æ ‡
- **å•ETFè®¡ç®—æ—¶é—´**: < 5ms
- **æ‰¹é‡å¤„ç†èƒ½åŠ›**: 800+ ETF/åˆ†é’Ÿ
- **å†…å­˜å ç”¨**: < 80MB
- **ç¼“å­˜å‘½ä¸­çŽ‡**: 96%+

## æ³¨æ„äº‹é¡¹

### 1. æ•°æ®è®¡ç®—é™åˆ¶
- **æ–°ä¸Šå¸‚ETF**: åŽ†å²æ•°æ®ä¸è¶³ï¼ŒæŒ‡æ ‡å¯èƒ½ä¸ç¨³å®š
- **åœç‰Œå¤ç‰Œ**: ä»·æ ¼ä¸è¿žç»­ä¼šå½±å“è®¡ç®—ç²¾åº¦
- **æ•°æ®ç¼ºå¤±**: éœ€è¦å¯¹ç¼ºå¤±æ•°æ®è¿›è¡Œé€‚å½“å¤„ç†

### 2. æŒ‡æ ‡ç‰¹æ€§é™åˆ¶
- **æ»žåŽæ€§**: RSIåŸºäºŽåŽ†å²æ•°æ®ï¼Œå­˜åœ¨æ»žåŽæ€§
- **æžå€¼æŒç»­**: åœ¨å¼ºè¶‹åŠ¿ä¸­å¯èƒ½é•¿æœŸå¤„äºŽæžå€¼åŒºåŸŸ
- **è®¡ç®—ä¾èµ–**: ä¾èµ–äºŽæ¶¨è·Œå¹…æ•°æ®çš„å‡†ç¡®æ€§

### 3. ä½¿ç”¨åœºæ™¯é™åˆ¶
- **ä»…ä½œç­›é€‰å‚è€ƒ**: ä¸åº”å•ç‹¬ä½œä¸ºå†³ç­–ä¾æ®
- **ç»“åˆå…¶ä»–æŒ‡æ ‡**: éœ€è¦ä¸Žå…¶ä»–æ•°æ®ç»¼åˆåˆ†æž
- **æ•°æ®è´¨é‡æ•æ„Ÿ**: å¯¹åŽŸå§‹æ•°æ®è´¨é‡è¦æ±‚è¾ƒé«˜

## ç­›é€‰åº”ç”¨åœºæ™¯

### æ•°å€¼ç­›é€‰æ¡ä»¶
- **é«˜æ•°å€¼ç­›é€‰**: RSIå€¼é«˜äºŽç‰¹å®šé˜ˆå€¼
- **ä½Žæ•°å€¼ç­›é€‰**: RSIå€¼ä½ŽäºŽç‰¹å®šé˜ˆå€¼
- **å·®å€¼ç­›é€‰**: é€šè¿‡rsi_diff_6_24ç­›é€‰å·®å¼‚ç¨‹åº¦
- **å˜åŒ–çŽ‡ç­›é€‰**: é€šè¿‡rsi_change_rateç­›é€‰å˜åŒ–å¹…åº¦
- **å¤šå‘¨æœŸç­›é€‰**: å¤šä¸ªå‘¨æœŸRSIåŒæ—¶æ»¡è¶³æ¡ä»¶

### ç­›é€‰ç»„åˆç¤ºä¾‹
```
é«˜æ•°å€¼ç­›é€‰:
- rsi_12 > 70
- rsi_diff_6_24 > 10
- rsi_change_rate > 2

ä½Žæ•°å€¼ç­›é€‰:
- rsi_12 < 30
- rsi_6 > rsi_12 > rsi_24
- rsi_change_rate > 3

ç¨³å®šæ•°å€¼ç­›é€‰:
- 40 < rsi_12 < 60
- abs(rsi_diff_6_24) < 10
- abs(rsi_change_rate) < 3
```

## è¾“å‡ºå­—æ®µ

### RSIæŒ‡æ ‡æ•°æ®å­—æ®µ
```csv
code,date,rsi_6,rsi_12,rsi_24,rsi_diff_6_24,rsi_change_rate
```

#### å­—æ®µè¯´æ˜Ž
- `code`: ETFä»£ç 
- `date`: è®¡ç®—æ—¥æœŸ (YYYY-MM-DDæ ¼å¼)
- `rsi_6`: 6æ—¥ç›¸å¯¹å¼ºå¼±æŒ‡æ•° (èŒƒå›´: 0 åˆ° 100)
- `rsi_12`: 12æ—¥ç›¸å¯¹å¼ºå¼±æŒ‡æ•° (èŒƒå›´: 0 åˆ° 100)
- `rsi_24`: 24æ—¥ç›¸å¯¹å¼ºå¼±æŒ‡æ•° (èŒƒå›´: 0 åˆ° 100)
- `rsi_diff_6_24`: RSI6ä¸ŽRSI24çš„å·®å€¼
- `rsi_change_rate`: RSI12æ—¥å˜åŒ–çŽ‡ (%)

## ç³»ç»Ÿé›†æˆè¦æ±‚

### æ ¸å¿ƒåŠŸèƒ½å®žçŽ°
1. **åŸºç¡€è®¡ç®—**: å®žçŽ°rsi_6, rsi_12, rsi_24ä¸‰ä¸ªæ ¸å¿ƒæŒ‡æ ‡
2. **å·®å€¼è®¡ç®—**: å®žçŽ°rsi_diff_6_24çš„å·®å€¼è®¡ç®—
3. **å˜åŒ–çŽ‡è®¡ç®—**: å®žçŽ°rsi_change_rateçš„æ—¥é—´å˜åŒ–è®¡ç®—
4. **æ•°æ®éªŒè¯**: å®žçŽ°å¼‚å¸¸å€¼æ£€æµ‹å’Œæ•°æ®è´¨é‡æŽ§åˆ¶

### æ•°æ®å­˜å‚¨è¦æ±‚
- **æ–‡ä»¶æ ¼å¼**: CSVæ ¼å¼ï¼Œä½Žç©ºé—´å ç”¨
- **å­—æ®µæ•°é‡**: 5ä¸ªæ•°æ®å­—æ®µ + 2ä¸ªåŸºç¡€å­—æ®µ
- **å­˜å‚¨ç©ºé—´**: æ¯ä¸ªETFçº¦80KB(ä¸€å¹´æ•°æ®)
- **æ›´æ–°é¢‘çŽ‡**: æ—¥é¢‘æ›´æ–°ï¼Œå¢žé‡è®¡ç®—

### æ€§èƒ½ç›®æ ‡
- **è®¡ç®—é€Ÿåº¦**: 800+ ETF/åˆ†é’Ÿ
- **å†…å­˜å ç”¨**: < 80MB
- **ç¼“å­˜å‘½ä¸­**: 96%+
- **æ•°æ®ç²¾åº¦**: 8ä½å°æ•°

---

**RSIæŒ‡æ ‡ç³»ç»Ÿ**: âœ… æ•°æ®è®¡ç®—å®Œæ•´ | âš™ï¸ å­—æ®µè®¾è®¡ç®€æ´ | ðŸ“ˆ ç­›é€‰åŠŸèƒ½é½å…¨