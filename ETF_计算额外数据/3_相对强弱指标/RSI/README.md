# RSI (相对强弱指数)

## 指标概述
RSI是由韦尔斯·怀尔德开发的动量振荡指标，通过比较一段时期内的平均收盘涨数和平均收盘跌数来分析市场买卖盘的意愿和实力，从而判断价格未来的走向。

## 包含指标

### 核心RSI指标
- **RSI6**: 6日相对强弱指数 - 短期超买超卖
- **RSI12**: 12日相对强弱指数 - 中期强弱判断  
- **RSI24**: 24日相对强弱指数 - 长期趋势强度

### 衍生指标
- **RSI_Smooth**: 平滑RSI (RSI的移动平均)
- **RSI_Signal**: RSI交易信号 (超买超卖标识)
- **RSI_Divergence**: RSI背离信号标识

## 计算公式

### 标准RSI计算
```
RS = 平均涨幅 / 平均跌幅
RSI = 100 - (100 / (1 + RS))

其中：
平均涨幅 = N日涨幅的平均值
平均跌幅 = N日跌幅的平均值(取绝对值)
```

### 平滑RSI (修正计算)
```
当日RS = ((N-1) × 前日RS + 当日涨跌) / N
RSI = 100 - (100 / (1 + RS))

这种计算方式更平滑，减少噪音
```

### 基于涨跌幅计算 (现有数据)
```
如果当日涨跌幅 > 0:
    涨幅 = 涨跌幅, 跌幅 = 0
如果当日涨跌幅 ≤ 0:
    涨幅 = 0, 跌幅 = |涨跌幅|

RSI = 100 - (100 / (1 + 平均涨幅/平均跌幅))
```

## 应用策略

### 1. 超买超卖策略
- **RSI > 70**: 超买区域，考虑卖出
- **RSI < 30**: 超卖区域，考虑买入
- **RSI > 80**: 强烈超买，警惕反转
- **RSI < 20**: 强烈超卖，关注反弹

### 2. 中性区域策略
- **RSI 30-70**: 正常交易区间
- **RSI 穿越50**: 多空力量转换
- **RSI 50上方**: 多头占优
- **RSI 50下方**: 空头占优

### 3. 背离分析
- **顶背离**: 价格创新高，RSI不创新高，看跌
- **底背离**: 价格创新低，RSI不创新低，看涨
- **隐性背离**: 更早期的背离信号

## 不同周期RSI的特点

### RSI6 (短期)
- **敏感性**: 对价格变化反应最快
- **波动性**: 波动频繁，信号多但噪音大
- **适用**: 短线交易，日内分析
- **阈值**: 超买>75, 超卖<25

### RSI12 (中期) 
- **平衡性**: 敏感性与稳定性的平衡
- **实用性**: 最常用的RSI周期
- **适用**: 中短期交易决策
- **阈值**: 超买>70, 超卖<30

### RSI24 (长期)
- **稳定性**: 信号稳定，假信号少
- **滞后性**: 反应相对较慢
- **适用**: 中长期投资决策
- **阈值**: 超买>65, 超卖<35

## 市场环境适应性

### 震荡市场 ✅
- **高效性**: RSI在震荡市场表现最佳
- **准确性**: 超买超卖信号相对准确
- **策略**: 高抛低吸策略有效

### 趋势市场 ⚠️
- **钝化现象**: 强趋势中RSI可能长期保持极值
- **修正策略**: 
  - 上升趋势: 关注RSI < 40的买入机会
  - 下降趋势: 关注RSI > 60的卖出机会

### 突破行情 ✅
- **确认作用**: 突破配合RSI背离更可靠
- **强度判断**: RSI极值突破往往伴随价格突破

## 实战应用技巧

### 1. 多重确认
```python
# RSI信号确认条件
买入信号 = (RSI < 30) and (成交量 > 平均成交量) and (价格 > 昨日价格)
卖出信号 = (RSI > 70) and (成交量 > 平均成交量) and (价格 < 昨日价格)
```

### 2. 趋势过滤
```python
# 结合趋势的RSI策略
if 价格 > MA20:  # 上升趋势
    买入条件 = RSI < 40  # 降低买入门槛
    卖出条件 = RSI > 75  # 提高卖出门槛
else:  # 下降趋势
    买入条件 = RSI < 25  # 提高买入门槛  
    卖出条件 = RSI > 60  # 降低卖出门槛
```

### 3. 背离识别
```python
# RSI背离检测逻辑
顶背离 = (当前价格 > 前期高点) and (当前RSI < 前期RSI高点)
底背离 = (当前价格 < 前期低点) and (当前RSI > 前期RSI低点)
```

## 参数优化建议

### 短线交易 (1-5天)
- **推荐**: RSI6 或 RSI9
- **阈值**: 超买>75, 超卖<25
- **特点**: 信号频繁，需要快速反应

### 中线交易 (5-20天)
- **推荐**: RSI12 或 RSI14 (标准)
- **阈值**: 超买>70, 超卖<30
- **特点**: 平衡敏感性和可靠性

### 长线投资 (20天以上)
- **推荐**: RSI21 或 RSI24
- **阈值**: 超买>65, 超卖<35
- **特点**: 信号稳定，假信号少

## 常见陷阱与对策

### 钝化陷阱
- **现象**: RSI长期保持极值
- **原因**: 强趋势行情
- **对策**: 结合趋势指标，调整阈值

### 假突破陷阱
- **现象**: RSI突破但价格不配合
- **原因**: 市场分歧或操纵
- **对策**: 等待价格确认，成交量验证

### 背离失效
- **现象**: 出现背离但不反转
- **原因**: 趋势过于强劲
- **对策**: 等待多重背离确认

## 组合使用建议

### RSI + MACD
- **确认信号**: 两者同时发出信号更可靠
- **时机选择**: RSI选点位，MACD选时机

### RSI + 布林带
- **位置确认**: RSI超买+触及布林带上轨
- **强度判断**: 两个指标的共振效果

### RSI + 成交量
- **信号验证**: 极值RSI需要成交量配合
- **突破确认**: 量价配合的RSI突破

## 适用场景
- ✅ 震荡市场的高抛低吸
- ✅ 趋势市场的回调买入  
- ✅ 超买超卖状态识别
- ✅ 背离形态的反转预警

## 输出字段
- `RSI_6`: 6日相对强弱指数
- `RSI_12`: 12日相对强弱指数  
- `RSI_24`: 24日相对强弱指数
- `RSI_Signal`: RSI交易信号标识
- `RSI_OverboughtOversold`: 超买超卖状态标识 